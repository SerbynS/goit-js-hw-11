{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport function fetchImages(searchText) {\n  const API_KEY = '22291580-fa60bbd7949edc60de7cbcd1e';\n  const url = `https://pixabay.com/api/?key=${API_KEY}&q=${searchText}&image_type=photo&per_page=9`;\n\n  return axios\n    .get(url)\n    .then(response => {\n      return response.data.hits;\n    })\n    .catch(error => {\n      throw new Error(error);\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function renderGalleryMarkup(images) {\n  const galleryMarkup = images\n    .map(\n      ({ webformatURL, largeImageURL, likes, views, comments, downloads }) =>\n        `\n      <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"photo\" />\n        </a>\n        <ul class=\"info-cards\">\n          <li class=\"info-card\"><h3>Likes</h3><p>${likes}</p></li>\n          <li class=\"info-card\"><h3>Views</h3><p>${views}</p></li>\n          <li class=\"info-card\"><h3>Comments</h3><p>${comments}</p></li>\n          <li class=\"info-card\"><h3>Downloads</h3><p>${downloads}</p></li>\n        </ul>\n      </li>\n    `\n    )\n    .join('');\n\n  return galleryMarkup;\n}\n\nexport function updateGallery(gallery, markup) {\n  gallery.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function clearGallery(gallery) {\n  gallery.innerHTML = '';\n}\n\nexport function renderSimpleLightbox(markup) {\n  let gallerys = new SimpleLightbox('a');\n  gallerys.on('show.simplelightbox');\n\n  gallerys.refresh();\n}\n\nexport function renderError() {\n  iziToast.error({\n    backgroundColor: '#EF4040',\n    messageColor: '#FAFAFB',\n    theme: 'dark',\n    progressBarColor: '#B51B1B',\n    maxWidth: '432',\n    messageSize: '16',\n    //   icon: '',\n    position: 'topRight',\n    message: `Sorry, there are no images matching your search query. Please, try again!`,\n  });\n}\n\nexport function toggleLoader(loading) {\n  const loader = document.querySelector('.loader');\n  if (loading) {\n    loader.classList.remove('hidden');\n    console.log('del');\n  } else {\n    loader.classList.add('hidden');\n    console.log('add');\n  }\n}\n","import { fetchImages } from './js/pixabay-api.js';\nimport {\n  renderGalleryMarkup,\n  updateGallery,\n  clearGallery,\n  renderSimpleLightbox,\n  renderError,\n  toggleLoader,\n} from './js/render-functions.js';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const search = event.target['search-text'].value;\n\n  clearGallery(gallery);\n\n  fetchImages(search)\n    .then(Images => {\n      toggleLoader(true);\n      if (Images.length != 0) {\n        // console.log(Images);\n        const galleryMarkup = renderGalleryMarkup(Images);\n        updateGallery(gallery, galleryMarkup);\n        renderSimpleLightbox(galleryMarkup);\n      } else {\n        renderError();\n      }\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      toggleLoader(false);\n      form.reset();\n    });\n});\n"],"names":["fetchImages","searchText","url","axios","response","error","renderGalleryMarkup","images","webformatURL","largeImageURL","likes","views","comments","downloads","updateGallery","gallery","markup","clearGallery","renderSimpleLightbox","gallerys","SimpleLightbox","renderError","iziToast","toggleLoader","loading","loader","form","event","search","Images","galleryMarkup"],"mappings":"owBAEO,SAASA,EAAYC,EAAY,CAEtC,MAAMC,EAAM,qEAA6CD,CAAU,+BAEnE,OAAOE,EACJ,IAAID,CAAG,EACP,KAAKE,GACGA,EAAS,KAAK,IACtB,EACA,MAAMC,GAAS,CACd,MAAM,IAAI,MAAMA,CAAK,CAC3B,CAAK,CACL,CCTO,SAASC,EAAoBC,EAAQ,CAoB1C,OAnBsBA,EACnB,IACC,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IACjE;AAAA;AAAA,wCAEgCJ,CAAa;AAAA,4CACTD,CAAY;AAAA;AAAA;AAAA,mDAGLE,CAAK;AAAA,mDACLC,CAAK;AAAA,sDACFC,CAAQ;AAAA,uDACPC,CAAS;AAAA;AAAA;AAAA,KAI3D,EACA,KAAK,EAAE,CAGZ,CAEO,SAASC,EAAcC,EAASC,EAAQ,CAC7CD,EAAQ,mBAAmB,YAAaC,CAAM,CAChD,CAEO,SAASC,EAAaF,EAAS,CACpCA,EAAQ,UAAY,EACtB,CAEO,SAASG,EAAqBF,EAAQ,CAC3C,IAAIG,EAAW,IAAIC,EAAe,GAAG,EACrCD,EAAS,GAAG,qBAAqB,EAEjCA,EAAS,QAAO,CAClB,CAEO,SAASE,GAAc,CAC5BC,EAAS,MAAM,CACb,gBAAiB,UACjB,aAAc,UACd,MAAO,OACP,iBAAkB,UAClB,SAAU,MACV,YAAa,KAEb,SAAU,WACV,QAAS,2EACb,CAAG,CACH,CAEO,SAASC,EAAaC,EAAS,CACpC,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC3CD,GACFC,EAAO,UAAU,OAAO,QAAQ,EAChC,QAAQ,IAAI,KAAK,IAEjBA,EAAO,UAAU,IAAI,QAAQ,EAC7B,QAAQ,IAAI,KAAK,EAErB,CCxDA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCX,EAAU,SAAS,cAAc,UAAU,EAEjDW,EAAK,iBAAiB,SAAUC,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAMC,EAASD,EAAM,OAAO,aAAa,EAAE,MAE3CV,EAAaF,CAAO,EAEpBf,EAAY4B,CAAM,EACf,KAAKC,GAAU,CAEd,GADAN,EAAa,EAAI,EACbM,EAAO,QAAU,EAAG,CAEtB,MAAMC,EAAgBxB,EAAoBuB,CAAM,EAChDf,EAAcC,EAASe,CAAa,EACpCZ,EAAkC,CAC1C,MACQG,GAER,CAAK,EACA,MAAMhB,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbkB,EAAa,EAAK,EAClBG,EAAK,MAAK,CAChB,CAAK,CACL,CAAC"}